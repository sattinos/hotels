!function(e,t,r,n,i){var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a="function"==typeof o.parcelRequire&&o.parcelRequire,l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function s(r,n){if(!t[r]){if(!e[r]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(r,!0);if(a)return a(r,!0);if(l&&"string"==typeof r)return l(r);var o=new Error("Cannot find module '"+r+"'");throw o.code="MODULE_NOT_FOUND",o}u.resolve=function(t){return e[r][1][t]||t},u.cache={};var c=t[r]=new s.Module(r);e[r][0].call(c.exports,u,c,c.exports,this)}return t[r].exports;function u(e){return s(u.resolve(e))}}s.isParcelRequire=!0,s.Module=function(e){this.id=e,this.bundle=s,this.exports={}},s.modules=e,s.cache=t,s.parent=a,s.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},o.parcelRequire=s;for(var c=0;c<r.length;c++)s(r[c])}({"1es2j":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(e("react"));e("./style.less");var i=f(e("../entityCRUD/viewAllCrud")),o=f(e("../../controller/lib/localization/localizer")),a=e("../lib/optionsInput"),l=f(e("../../controller/appController")),s=e("../../model/reservationEntity"),c=f(e("./view")),u=e("../../controller/network/entityFetcher"),d=e("../shared");function f(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}class m extends n.Component{_tableRef=null;columns=[{Header:"ID",accessor:"id",className:"center",minResizeWidth:20},{Header:"Details",className:"center",minResizeWidth:20,sortable:!1,Cell:({original:e})=>n.createElement("a",{onClick:t=>this.onDetailsClicked(e)},"View Details")},{Header:"Status",accessor:"status",className:"center",minResizeWidth:20,Cell:({original:e})=>n.createElement(a.OptionsInput,{title:"",options:s.reservationStatusString,index:e.status,OnOptionSelected:t=>this.onReservationStatusSelected(e,t)})},{Header:"From",id:"from",accessor:e=>e.from.toDateString(),className:"center",minResizeWidth:20},{Header:"To",id:"to",accessor:e=>e.to.toDateString(),className:"center",minResizeWidth:20},{Header:"Channel",accessor:"channel",className:"center",minResizeWidth:20,Cell:({original:e})=>n.createElement("input",{value:e.channel,className:"tableEditText",type:"text",onChange:t=>this.onRowFieldChange(e,"channel",t.target.value)})},{Header:"Time of Creation",accessor:"createdAt",className:"center",minResizeWidth:20},{Header:"Time of Update",accessor:"updatedAt",className:"center",minResizeWidth:20},{Header:"Reserver Fullname",id:"fullName",minResizeWidth:20,sortable:!1,accessor:e=>0===e.reservers.length?"":e.reservers[0].fullName,className:"center"},{Header:"Reserver Phone",id:"phone",minResizeWidth:20,sortable:!1,accessor:e=>0===e.reservers.length?"":e.reservers[0].phone,className:"center"},{Header:"Reserver Username",id:"userName",minResizeWidth:20,sortable:!1,accessor:e=>0===e.reservers.length?"":e.reservers[0].userName,className:"center"}];constructor(e){super(e),this.state={reservationToView:null}}render(){return this.state.reservationToView?n.createElement(c.default,{isVisible:!0,entity:this.state.reservationToView,onBackClicked:this.onBackFromViewDetailsClicked}):n.createElement(i.default,{title:o.default.text("reserve.viewAll"),columns:this.columns,entityFetcher:l.default.reservationsFetcher,entityName:"reservation",ref:e=>this._tableRef=e,onDataFetched:this.onReservationsFetched,deleteEnabled:!1})}onReservationsFetched=e=>{for(let t=0;t<e.length;t++){const r=e[t];r.from=new Date(r.from),r.to=new Date(r.to)}return e};onReservationStatusSelected=(e,t)=>{e.status=t,this._tableRef&&this._tableRef.onEntityModified(e)};onRowFieldChange=(e,t,r)=>{e[t]=r,this._tableRef&&this._tableRef.onEntityModified(e)};onDetailsClicked=async e=>{console.log("OnDetails Clicked:",e);const t=await u.EntityFetcher.fetch(l.default.reservationsFetcher,e.id,d.shared.busyFunction);console.log("fetched:",t),t&&(t.from=new Date(t.from),t.to=new Date(t.to),this.setState({reservationToView:t}))};onBackFromViewDetailsClicked=()=>{this.setState({reservationToView:null})}}var p=m;r.default=p},{react:"28kAn","./style.less":"1YhmO","../entityCRUD/viewAllCrud":"2rhHW","../../controller/lib/localization/localizer":"2Lq0B","../lib/optionsInput":"4wkfJ","../../controller/appController":"5m3ws","../../model/reservationEntity":"7v774","./view":"3gSkV","../../controller/network/entityFetcher":"1aKQt","../shared":"5kDOz"}],"1YhmO":[function(){},{}],"3gSkV":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(e("react"));e("./style.less");var i=s(e("../../controller/lib/localization/localizer")),o=e("../lib/roundButton"),a=s(e("./reservationViewer")),l=s(e("../modalBG"));function s(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}class u extends n.Component{render(){return n.createElement(l.default,{isVisible:this.props.isVisible},n.createElement("div",{id:"modalViewDiv",className:"form center"},n.createElement(a.default,{title:i.default.text("reserve.view"),entity:this.props.entity,onNewEntityAvailable:this.onNewEntityAvailable,readOnly:!0}),n.createElement("div",null,n.createElement(o.RoundBtn,{text:i.default.text("common.back"),disabled:!1,onClick:this.props.onBackClicked}))))}onNewEntityAvailable=async(e,t)=>{}}var d=u;r.default=d},{react:"28kAn","./style.less":"1YhmO","../../controller/lib/localization/localizer":"2Lq0B","../lib/roundButton":"29Imb","./reservationViewer":"1X2l2","../modalBG":"2osFc"}],"1YhmO":[function(){},{}]},{},[]);