!function(e,t,n,r,o){var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s="function"==typeof a.parcelRequire&&a.parcelRequire,i="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function l(n,r){if(!t[n]){if(!e[n]){var o="function"==typeof parcelRequire&&parcelRequire;if(!r&&o)return o(n,!0);if(s)return s(n,!0);if(i&&"string"==typeof n)return i(n);var a=new Error("Cannot find module '"+n+"'");throw a.code="MODULE_NOT_FOUND",a}c.resolve=function(t){return e[n][1][t]||t},c.cache={};var u=t[n]=new l.Module(n);e[n][0].call(u.exports,c,u,u.exports,this)}return t[n].exports;function c(e){return l(c.resolve(e))}}l.isParcelRequire=!0,l.Module=function(e){this.id=e,this.bundle=l,this.exports={}},l.modules=e,l.cache=t,l.parent=s,l.register=function(t,n){e[t]=[function(e,t){t.exports=n},{}]},a.parcelRequire=l;for(var u=0;u<n.length;u++)l(n[u])}({NAgZS:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=b(e("react"));e("./style.less");var o=h(e("../../controller/appController")),a=h(e("../../controller/lib/msisdnHelper")),s=e("../lib/centerHVDiv"),i=h(e("../lib/roundLink")),l=e("../lib/roundButton"),u=h(e("../../controller/lib/localization/localizer")),c=e("../shared"),d=e("react-router"),f=e("../../paths"),p=b(e("../../config"));function h(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function b(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}class v extends r.Component{constructor(e){super(e),this.state={phoneNo:"",resetEnabled:!1,smsSent:!1}}render(){return this.state.smsSent?(p.default.RunMode!==p.RunMode.Production&&console.log("signin path: ",f.paths.signIn),r.createElement(d.Redirect,{to:f.paths.signIn})):r.createElement(s.CenterHVDiv,null,r.createElement("div",{className:"center",id:"ResetPage"},r.createElement("div",{className:"center formBox"},r.createElement("div",{className:"center",id:"vendorLogo"}),r.createElement("div",{id:"resetPwdTitle",className:"textAlignLeft"},u.default.text("reset.hint1")," ",u.default.text("reset.hint2")),r.createElement("div",{id:"inputBox"},r.createElement("input",{className:"input",type:"tel",placeholder:u.default.text("register.phonePlaceHolder"),onChange:this.onPhoneNoChange,value:this.state.phoneNo,pattern:"[0-9]*"})),r.createElement("div",null,r.createElement(i.default,{id:"backBtn",disabled:!1,text:u.default.text("common.back"),to:f.paths.signIn}),r.createElement(l.RoundBtn,{id:"sendBtn",text:u.default.text("reset.resetBtn"),disabled:!this.state.resetEnabled,onClick:this.onResetTapped})))))}onPhoneNoChange=({target:e})=>{let t=e.value;if(""===t)return void this.setState({phoneNo:t},(()=>{this.refresh()}));const n=t.length>1&&"0"===t[0],r=Number.parseInt(t,10);isNaN(r)||(t=n?"0"+r:r,this.setState({phoneNo:t},(()=>{this.refresh()})))};onResetTapped=async()=>{c.shared.busyFunction(!0);const e=a.default.transformToFullNumber(this.state.phoneNo),t=await o.default.forgotPassword(e);c.shared.busyFunction(!1),c.shared.alertFunction(t.message,(()=>{t.isSuccess&&this.setState({smsSent:!0})}))};refresh(){const e=a.default.validateMsisdn(this.state.phoneNo);this.setState({resetEnabled:e})}}n.default=v},{react:"28kAn","./style.less":"6DtmQ","../../controller/appController":"5m3ws","../../controller/lib/msisdnHelper":"75YGc","../lib/centerHVDiv":"4ZpzY","../lib/roundLink":"2p0vh","../lib/roundButton":"29Imb","../../controller/lib/localization/localizer":"2Lq0B","../shared":"5kDOz","react-router":"14NBf","../../paths":"2jsBl","../../config":"14DIO"}],"6DtmQ":[function(){},{}],"75YGc":[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;class r{static transformToFullNumber(e){r._ksaPhoneNumberPattern.lastIndex=0;const t=r._ksaPhoneNumberPattern.exec(e);if(t&&8===t.length){return"9665"+t[7]}return""}static validateMsisdn(e){return r._ksaPhoneNumberPattern.lastIndex=0,r._ksaPhoneNumberPattern.test(e)}static _ksaPhoneNumberPattern=/^((\+\+966)?|(00966)?|(966)?|(0)?)(5)(\d{8})$/g}n.default=r},{}],"4ZpzY":[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CenterHVDiv=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(e("react"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}e("./style.less");class a extends r.Component{render(){return r.createElement("div",{className:"centerHVParent"},r.createElement("div",{className:"centerHV"},this.props.children))}}n.CenterHVDiv=a},{react:"28kAn","./style.less":"2HC64"}],"2HC64":[function(){},{}]},{},[]);