!function(e,t,n,i,o){var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s="function"==typeof r.parcelRequire&&r.parcelRequire,l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function a(n,i){if(!t[n]){if(!e[n]){var o="function"==typeof parcelRequire&&parcelRequire;if(!i&&o)return o(n,!0);if(s)return s(n,!0);if(l&&"string"==typeof n)return l(n);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}d.resolve=function(t){return e[n][1][t]||t},d.cache={};var c=t[n]=new a.Module(n);e[n][0].call(c.exports,d,c,c.exports,this)}return t[n].exports;function d(e){return a(d.resolve(e))}}a.isParcelRequire=!0,a.Module=function(e){this.id=e,this.bundle=a,this.exports={}},a.modules=e,a.cache=t,a.parent=s,a.register=function(t,n){e[t]=[function(e,t){t.exports=n},{}]},r.parcelRequire=a;for(var c=0;c<n.length;c++)a(n[c])}({"2rhHW":[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(n,o,r):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(e("react")),r=e("../../controller/network/entityFetcher"),s=e("./viewAllEntities"),l=e("../lib/icon"),a=e("../../images"),c=(i=e("../../controller/lib/localization/localizer"))&&i.__esModule?i:{default:i},d=e("react-router"),u=e("../shared"),p=e("../../paths");function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}class f extends o.Component{static getInitialState=()=>({deleteEnabled:!1,editEnabled:!1,saveEnabled:!1,selection:[],modified:[],createClicked:!1,editClicked:!1});constructor(e){super(e),this.state=f.getInitialState()}componentDidMount(){u.shared.entityName=this.props.entityName}render(){return this.state.createClicked?o.createElement(d.Redirect,{to:(0,p.generatePath)(this.props.entityName,p.CrudOperation.Create)}):this.state.editClicked?o.createElement(d.Redirect,{to:(0,p.generatePath)(this.props.entityName,p.CrudOperation.Update)}):o.createElement(o.Fragment,null,o.createElement("div",{className:"center form"},o.createElement(s.ViewAllEntities,{title:this.props.title,columns:this.props.columns,entityFetcher:this.props.entityFetcher,onSelectionChange:this.onSelectionChange,onDataFetched:this.props.onDataFetched}),o.createElement("div",{className:"paddedBox"},o.createElement(l.Icon,{enabled:!0,src:a.newIcon,className:"tableRowIcon",onClick:this.onNewClicked}),o.createElement(l.Icon,{enabled:this.state.editEnabled,src:a.editIcon,className:"tableRowIcon",onClick:this.onEditClicked}),o.createElement(l.Icon,{enabled:void 0!==this.props.deleteEnabled?this.props.deleteEnabled&&this.state.deleteEnabled:this.state.deleteEnabled,src:a.deleteIcon,className:"tableRowIcon",onClick:this.onDeleteClicked}),o.createElement(l.Icon,{enabled:this.state.saveEnabled,src:a.saveIcon,className:"tableRowIcon",onClick:this.onSaveClicked}))))}onEntityModified=e=>{const t=this.state.modified;t.push(e),this.setState({saveEnabled:!0,modified:t})};onNewClicked=()=>{this.setState({createClicked:!0})};onEditClicked=()=>{u.shared.entityID=this.state.selection[0].id,this.setState({editClicked:!0})};onDeleteClicked=()=>{u.shared.alertFunction(c.default.text("common.confirm"),(async()=>{u.shared.busyFunction(!0);const e=r.EntityFetcher.getValues(this.state.selection,"id"),t=await this.props.entityFetcher.deleteMany(e);console.log("updateResult: ",t),u.shared.busyFunction(!1),this.setState(f.getInitialState())}),(()=>{}))};onSaveClicked=async()=>{u.shared.alertFunction(c.default.text("common.confirm"),(async()=>{u.shared.busyFunction(!0);const e=await this.props.entityFetcher.updateMany(this.state.modified);console.log("updateResult: ",e),u.shared.busyFunction(!1),this.setState(f.getInitialState())}),(()=>{console.log("no")}))};onSelectionChange=e=>{console.log(e);const t=1===e.length,n=e.length>0;this.setState({editEnabled:t,deleteEnabled:n,selection:e})}}var m=f;n.default=m},{react:"28kAn","../../controller/network/entityFetcher":"1aKQt","./viewAllEntities":"7EVn1","../lib/icon":"146V6","../../images":"4DVFX","../../controller/lib/localization/localizer":"2Lq0B","react-router":"14NBf","../shared":"5kDOz","../../paths":"2jsBl"}],"146V6":[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Icon=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=i?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(n,r,s):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(e("react"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}e("./style.less");class r extends i.Component{constructor(e){super(e)}render(){let e=this.props.enabled||void 0===this.props.enabled?"iconEnabled":"iconDisabled";return this.props.className&&this.props.className.length>0&&(e+=" "+this.props.className),i.createElement("img",{src:this.props.src,className:e,onClick:this.onClick})}onClick=e=>{this.props.enabled&&this.props.onClick&&this.props.onClick()}}n.Icon=r},{react:"28kAn","./style.less":"1BoLh"}],"1BoLh":[function(){},{}],"4DVFX":[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.saveIcon=n.deleteIcon=n.editIcon=n.newIcon=void 0;const i=e("./assets/img/new.png");n.newIcon=i;const o=e("./assets/img/edit.png");n.editIcon=o;const r=e("./assets/img/delete.png");n.deleteIcon=r;const s=e("./assets/img/save.png");n.saveIcon=s},{"./assets/img/new.png":"19U1t","./assets/img/edit.png":"woHUp","./assets/img/delete.png":"4pJrT","./assets/img/save.png":"1O2sG"}],"19U1t":[function(e,t,n){t.exports=e("./bundle-url").getBundleURL()+e("./relative-path")("lmxc0","2eI9z")},{"./bundle-url":"4ktlL","./relative-path":"1HUyI"}],woHUp:[function(e,t,n){t.exports=e("./bundle-url").getBundleURL()+e("./relative-path")("lmxc0","73Gpr")},{"./bundle-url":"4ktlL","./relative-path":"1HUyI"}],"4pJrT":[function(e,t,n){t.exports=e("./bundle-url").getBundleURL()+e("./relative-path")("lmxc0","6rAks")},{"./bundle-url":"4ktlL","./relative-path":"1HUyI"}],"1O2sG":[function(e,t,n){t.exports=e("./bundle-url").getBundleURL()+e("./relative-path")("lmxc0","tsiDG")},{"./bundle-url":"4ktlL","./relative-path":"1HUyI"}]},{},[]);