!function(e,t,l,a,i){var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o="function"==typeof n.parcelRequire&&n.parcelRequire,s="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function r(l,a){if(!t[l]){if(!e[l]){var i="function"==typeof parcelRequire&&parcelRequire;if(!a&&i)return i(l,!0);if(o)return o(l,!0);if(s&&"string"==typeof l)return s(l);var n=new Error("Cannot find module '"+l+"'");throw n.code="MODULE_NOT_FOUND",n}d.resolve=function(t){return e[l][1][t]||t},d.cache={};var c=t[l]=new r.Module(l);e[l][0].call(c.exports,d,c,c.exports,this)}return t[l].exports;function d(e){return r(d.resolve(e))}}r.isParcelRequire=!0,r.Module=function(e){this.id=e,this.bundle=r,this.exports={}},r.modules=e,r.cache=t,r.parent=o,r.register=function(t,l){e[t]=[function(e,t){t.exports=l},{}]},n.parcelRequire=r;for(var c=0;c<l.length;c++)r(l[c])}({"2gC4j":[function(e,t,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var l={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=a?Object.getOwnPropertyDescriptor(e,i):null;n&&(n.get||n.set)?Object.defineProperty(l,i,n):l[i]=e[i]}l.default=e,t&&t.set(e,l);return l}(e("react"));e("./style.less");var i=e("../entityCRUD/createEntity"),n=p(e("../../controller/lib/localization/localizer")),o=p(e("../../controller/appController")),s=e("./metaData"),r=e("../entityCRUD/viewAllEntities"),c=e("../lib/roundButton"),d=e("../../controller/network/entityFetcher"),u=e("../../model/flatType");function p(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}class m extends a.Component{columns=[{Header:"ID",accessor:"id",className:"center",width:40},{Header:"Name",accessor:"name",className:"center"}];constructor(e){super(e);const t=(0,u.getDefaultFlatType)();this.state={entity:t,metaDataForFiles:[],stage:0,bedRooms:[],livingRooms:[],bathRooms:[],kitchens:[],bufferedRooms:[]},this._activeRooms=0,this._components=[this.flatTypeRender,this.roomsSelector]}render(){return this._components[this.state.stage]()}flatTypeRender=()=>{const e=d.EntityFetcher.getValues(this.state.bedRooms,"id"),t=d.EntityFetcher.getValues(this.state.bedRooms,"name"),l=d.EntityFetcher.getValues(this.state.livingRooms,"id"),r=d.EntityFetcher.getValues(this.state.livingRooms,"name"),c=d.EntityFetcher.getValues(this.state.bathRooms,"id"),u=d.EntityFetcher.getValues(this.state.bathRooms,"name"),p=d.EntityFetcher.getValues(this.state.kitchens,"id"),f=d.EntityFetcher.getValues(this.state.kitchens,"name");return a.createElement("div",{className:"center form"},a.createElement(i.CreateEntity,{title:n.default.text("flatType.title"),entity:this.state.entity,metaDataForFiles:this.state.metaDataForFiles,entityFetcher:o.default.flatTypeFetcher,relations:[{fieldName:"bedRooms",ids:e},{fieldName:"livingRooms",ids:l},{fieldName:"bathRooms",ids:c},{fieldName:"kitchens",ids:p}],descriptor:s.flatTypeDescriptorCreate},a.createElement("div",{className:"formDiv textAlignLeft"},a.createElement("div",null,n.default.text("flatType.bedRooms")),a.createElement("div",null,a.createElement("input",{className:"input center",type:"text",value:t.toString(),readOnly:!0,placeholder:n.default.text("common-choose-beds"),onClick:e=>this.onInputClick(e,0)}))),a.createElement("div",{className:"formDiv textAlignLeft"},a.createElement("div",null,n.default.text("flatType.livingRooms")),a.createElement("div",null,a.createElement("input",{className:"input center",type:"text",value:r.toString(),readOnly:!0,placeholder:n.default.text("common-choose-beds"),onClick:e=>this.onInputClick(e,1)}))),a.createElement("div",{className:"formDiv textAlignLeft"},a.createElement("div",null,n.default.text("flatType.bathRooms")),a.createElement("div",null,a.createElement("input",{className:"input center",type:"text",value:u.toString(),readOnly:!0,placeholder:n.default.text("common-choose-beds"),onClick:e=>this.onInputClick(e,2)}))),a.createElement("div",{className:"formDiv textAlignLeft"},a.createElement("div",null,n.default.text("flatType.kitchens")),a.createElement("div",null,a.createElement("input",{className:"input center",type:"text",value:f.toString(),readOnly:!0,placeholder:n.default.text("common-choose-beds"),onClick:e=>this.onInputClick(e,3)})))))};roomsSelector=()=>a.createElement("div",{className:"center form"},a.createElement(r.ViewAllEntities,{title:n.default.text("choose-bed-rooms"),columns:this.columns,entityFetcher:o.default.roomsFetcher,onSelectionChange:this.onSelectionChange}),a.createElement(c.RoundBtn,{disabled:0===this.state.bedRooms.length,text:n.default.text("common.ok"),onClick:()=>this.onChooseClicked(0)}),a.createElement(c.RoundBtn,{disabled:!1,text:n.default.text("common.back"),onClick:()=>this.onCancelClicked()}));onSelectionChange=e=>{switch(this._activeRooms){case 0:this.setState({bedRooms:e});break;case 1:this.setState({livingRooms:e});break;case 2:this.setState({bathRooms:e});break;case 3:this.setState({kitchens:e})}};getActiveRooms=()=>{switch(this._activeRooms){case 0:return this.state.bedRooms;case 1:return this.state.livingRooms;case 2:return this.state.bathRooms;case 3:return this.state.kitchens}};onInputClick=(e,t)=>{this._activeRooms=t;const l=[...this.getActiveRooms()];this.setState({bufferedRooms:l,stage:1})};onChooseClicked=e=>{this.setState({stage:e})};onCancelClicked=()=>{this.onSelectionChange(this.state.bufferedRooms),this.setState({stage:0})}}var y=m;l.default=y},{react:"28kAn","./style.less":"2bK0R","../entityCRUD/createEntity":"5F6xi","../../controller/lib/localization/localizer":"2Lq0B","../../controller/appController":"5m3ws","./metaData":"2dqYv","../entityCRUD/viewAllEntities":"7EVn1","../lib/roundButton":"29Imb","../../controller/network/entityFetcher":"1aKQt","../../model/flatType":"2W34w"}],"2bK0R":[function(){},{}],"2dqYv":[function(e,t,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.flatTypeDescriptorCreate=l.flatTypeDescriptor=void 0;var a,i=e("../entityCRUD/types"),n=(a=e("../../controller/lib/localization/localizer"))&&a.__esModule?a:{default:a},o=e("../../controller/lib/validators");const s=[{name:"id",label:n.default.text("flatType.id"),type:i.FieldTypes.inputText,placeholder:n.default.text("flatType.id"),className:"input",readOnly:!0},{name:"name",label:n.default.text("flatType.name"),type:i.FieldTypes.inputText,placeholder:n.default.text("flatType.name"),className:"input",isValid:o.isStringValid},{name:"type",label:n.default.text("flatType.type"),type:i.FieldTypes.inputText,placeholder:n.default.text("flatType.type"),className:"input",isValid:o.isStringValid},{name:"price",label:n.default.text("flatType.price"),type:i.FieldTypes.inputDigit,placeholder:n.default.text("flatType.price"),className:"input",isValid:o.isDefined},{name:"count",label:n.default.text("flatType.count"),type:i.FieldTypes.inputDigit,placeholder:n.default.text("flatType.count"),className:"input",isValid:o.isDefined},{name:"area",label:n.default.text("flatType.area"),type:i.FieldTypes.inputDigit,placeholder:n.default.text("flatType.area"),className:"input",isValid:o.isDefined},{name:"description",label:n.default.text("flatType.description"),type:i.FieldTypes.inputText,placeholder:n.default.text("flatType.description"),className:"input",isValid:o.isStringValid},{name:"images",label:n.default.text("flatType.images"),type:i.FieldTypes.inputFile,isValid:o.isArrayValid}];l.flatTypeDescriptor=s;const r=s.slice(1);l.flatTypeDescriptorCreate=r},{"../entityCRUD/types":"4N9CI","../../controller/lib/localization/localizer":"2Lq0B","../../controller/lib/validators":"70nmJ"}],"2W34w":[function(e,t,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.getDefaultFlatType=void 0;l.getDefaultFlatType=()=>({createdAt:new Date,updatedAt:new Date,name:"",description:"",count:0,price:0,images:[],area:0,type:"",bedRooms:[],livingRooms:[],bathRooms:[],kitchens:[],flats:[]})},{}]},{},[]);