!function(e,t,r,i,o){var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},l="function"==typeof n.parcelRequire&&n.parcelRequire,a="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function s(r,i){if(!t[r]){if(!e[r]){var o="function"==typeof parcelRequire&&parcelRequire;if(!i&&o)return o(r,!0);if(l)return l(r,!0);if(a&&"string"==typeof r)return a(r);var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}d.resolve=function(t){return e[r][1][t]||t},d.cache={};var u=t[r]=new s.Module(r);e[r][0].call(u.exports,d,u,u.exports,this)}return t[r].exports;function d(e){return s(d.resolve(e))}}s.isParcelRequire=!0,s.Module=function(e){this.id=e,this.bundle=s,this.exports={}},s.modules=e,s.cache=t,s.parent=l,s.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},n.parcelRequire=s;for(var u=0;u<r.length;u++)s(r[u])}({"1jeEY":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var n=i?Object.getOwnPropertyDescriptor(e,o):null;n&&(n.get||n.set)?Object.defineProperty(r,o,n):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(e("react")),o=f(e("../loadingIndicator/index")),n=f(e("../../controller/appController")),l=e("../dialogBox"),a=e("../userProfileEditor"),s=e("../storage"),u=e("../shared"),d=f(e("../../controller/lib/localization/localizer"));function f(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}class p extends i.Component{constructor(e){super(e),this.state={isBusy:!1,isAlertVisible:!1,alertTxt:"",onOkTapped:this.onOkTapped,isConfirm:!1}}render(){const e=s.storage.userProfile;return e?i.createElement("div",null,i.createElement(a.UserProfileEditor,{saveTxt:d.default.text("profilePage.save"),title:d.default.text("profilePage.editProfile"),profile:e,onOkTapped:this.onSaveTapped}),i.createElement(o.default,{visible:this.state.isBusy}),this.renderAlert()):null}setBusy(e){this.setState({isBusy:e})}onSaveTapped=async e=>{this.setBusy(!0),console.log("onSaveTapped: ",e);const t=await n.default.setProfile(e);this.setBusy(!1),this.alert(t.message,(()=>{t.isSuccess&&u.shared.update()}))};onOkTapped=()=>{this.hideAlert()};onConfirmTapped=async()=>{this.setBusy(!0);(await n.default.logout()).isSuccess&&(window.location.href="/"),this.setBusy(!1)};renderAlert(){return this.state.isConfirm?i.createElement(l.DialogBox,{text:this.state.alertTxt,isVisible:this.state.isAlertVisible,okText:d.default.text("dialog.ok"),cancelText:d.default.text("dialog.cancel"),okDisabled:!1,onOkTapped:this.onConfirmTapped,onCancelTapped:()=>this.hideAlert()}):i.createElement(l.DialogBox,{text:this.state.alertTxt,isVisible:this.state.isAlertVisible,okText:d.default.text("dialog.ok"),okDisabled:!1,onOkTapped:()=>this.hideAlert()})}alert(e,t){const r={isAlertVisible:!0,alertTxt:e,isConfirm:!1};t&&(r.onOkTapped=()=>{t(),this.setState({onOkTapped:this.onOkTapped})}),this.setState(r)}hideAlert(){this.setState({isAlertVisible:!1,alertTxt:""})}}r.default=p},{react:"28kAn","../loadingIndicator/index":"VikYY","../../controller/appController":"5m3ws","../dialogBox":"G21p8","../userProfileEditor":"4FDvA","../storage":"3K0zI","../shared":"5kDOz","../../controller/lib/localization/localizer":"2Lq0B"}]},{},[]);