!function(e,t,r,a,o){var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},l="function"==typeof s.parcelRequire&&s.parcelRequire,n="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function c(r,a){if(!t[r]){if(!e[r]){var o="function"==typeof parcelRequire&&parcelRequire;if(!a&&o)return o(r,!0);if(l)return l(r,!0);if(n&&"string"==typeof r)return n(r);var s=new Error("Cannot find module '"+r+"'");throw s.code="MODULE_NOT_FOUND",s}i.resolve=function(t){return e[r][1][t]||t},i.cache={};var u=t[r]=new c.Module(r);e[r][0].call(u.exports,i,u,u.exports,this)}return t[r].exports;function i(e){return c(i.resolve(e))}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=e,c.cache=t,c.parent=l,c.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},s.parcelRequire=c;for(var u=0;u<r.length;u++)c(r[u])}({"5m3ws":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=u(e("./network/accountsFetcher")),o=e("./network/entityFetcher"),s=u(e("../config")),l=e("./network/flatTypeFetcher"),n=e("../components/storage"),c=u(e("./lib/localization/localizer"));function u(e){return e&&e.__esModule?e:{default:e}}var i=new class{_bedsFetcher=new o.EntityFetcher(""+s.default.Network.baseUrl,s.default.Network.paths[0]);_roomsFetcher=new o.EntityFetcher(""+s.default.Network.baseUrl,s.default.Network.paths[1]);_flatTypeFetcher=new l.FlatTypeFetcher(""+s.default.Network.baseUrl,s.default.Network.paths[2]);_reservationsFetcher=new o.EntityFetcher(""+s.default.Network.baseUrl,s.default.Network.paths[3]);_userProfileFetcher=new o.EntityFetcher(""+s.default.Network.baseUrl,s.default.Network.paths[4]);_reservationsLogsFetcher=new o.EntityFetcher(""+s.default.Network.baseUrl,s.default.Network.paths[5]);_promoCodeFetcher=new o.EntityFetcher(""+s.default.Network.baseUrl,s.default.Network.paths[6]);get promoCodeFetcher(){return this._promoCodeFetcher}get userProfileFetcher(){return this._userProfileFetcher}get bedsFetcher(){return this._bedsFetcher}get reservationsFetcher(){return this._reservationsFetcher}get reservationsLogsFetcher(){return this._reservationsLogsFetcher}get roomsFetcher(){return this._roomsFetcher}get flatTypeFetcher(){return this._flatTypeFetcher}async register(e){try{return await a.default.register(e)}catch(e){return console.log("register(err):",e),null}}async setProfile(e){try{const t=await a.default.setProfile(e);if(!1===t.isSuccess){let e=c.default.text("dialog.generalFail");return t.phoneAlreadyUsed&&(e=c.default.text("dialog.phoneUsed")),t.nicknameAlreadyUsed&&(e=c.default.text("dialog.userNameFound")),{isSuccess:!1,message:e}}return e.filename=t.filename,console.log("result:",e),localStorage.userProfile=JSON.stringify(e),n.storage.userProfile=e,{isSuccess:!0,message:c.default.text("profilePage.savedSuccessfully")}}catch(e){return console.log("setProfile(err):",e),{isSuccess:!1,message:c.default.text("dialog.generalFail")}}}async login(e,t,r){try{console.log("login controller function");const o=await a.default.login(e,t,r);return o?(localStorage.userProfile=JSON.stringify(o),n.storage.userProfile=o,{message:"",isSuccess:!0}):{message:c.default.text("dialog.invalidCredentials"),isSuccess:!1}}catch(e){return console.log("appController login(err):",e),{message:c.default.text("dialog.generalFail"),isSuccess:!1}}}async forgotPassword(e){try{const t=await a.default.forgotPassword(e);return t&&!1!==t.isSuccess?{isSuccess:!0,message:c.default.text("dialog.resetSucceeded")}:{message:c.default.text("dialog.generalFail"),isSuccess:!1}}catch(e){return console.log("forgotPassword(err):",e),{message:c.default.text("dialog.generalFail"),isSuccess:!1}}}async logout(){try{const e=await a.default.logout();return e&&e.isSuccess?{isSuccess:!0,message:""}:{message:c.default.text("dialog.generalFail"),isSuccess:!1}}catch(e){return console.log("logout(err):",e),{message:c.default.text("dialog.generalFail"),isSuccess:!1}}}};r.default=i},{"./network/accountsFetcher":"620ua","./network/entityFetcher":"1aKQt","../config":"14DIO","./network/flatTypeFetcher":"2CbIJ","../components/storage":"3K0zI","./lib/localization/localizer":"2Lq0B"}],"1aKQt":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EntityFetcher=void 0;var a,o=(a=e("axios"))&&a.__esModule?a:{default:a};r.EntityFetcher=class{static getValues(e,t){const r=[];for(let a=0;a<e.length;a++){const o=e[a];r.push(o[t])}return r}static async fetch(e,t,r){r(!0);const a=await e.getOne(t,!0);return r(!1),a}constructor(e,t){this.baseUrl=e,this.path=t}async create(e,t,r){try{let a=`${this.baseUrl}${this.path}`,s=e;t&&t.length>0&&(a+="/ex",s={entity:e,relations:t}),r&&(console.log("url:",a,"\n"),console.log("data:",s,"\n"));const l=await(0,o.default)({method:"post",url:a,data:s});return r&&console.log("date:",l.data,"\n"),l.data}catch(e){return console.log("EntityFetcher.create (err):",e),null}}async getOne(e,t=!1){try{const r=`${this.baseUrl}${this.path}/${e}`,a=await(0,o.default)({method:"get",url:r});return t&&(console.log("url:",r),console.log("date:",a.data)),a.data}catch(e){return console.log("EntityFetcher.getOne (err):",e),null}}async getAll(e=0,t=10,r,a){try{const s=`${this.baseUrl}${this.path}/${e}/${t}`,l=r?{sortItems:r}:void 0,n=await(0,o.default)({method:"get",url:s,params:l});return a&&(console.log("url:",s),console.log("date:",n.data)),n.data}catch(e){return console.log("EntityFetcher.getAll (err):",e),[]}}async getCount(e=!1){try{const t=`${this.baseUrl}${this.path}/count`,r=await(0,o.default)({method:"get",url:t});return e&&(console.log("url:",t),console.log("date:",r.data)),r.data}catch(e){return console.log("EntityFetcher.getCount (err):",e.data),-1}}async updateOne(e,t,r=!1,a){try{const s=a&&a.length>0,l=s?`${this.baseUrl}${this.path}/ex/${e}`:`${this.baseUrl}${this.path}/${e}`,n=s?{entity:t,relations:a}:t,c=await(0,o.default)({method:"put",url:l,data:n});return r&&(console.log("EntityFetcher.udpate url:",l),console.log("EntityFetcher.udpate entity:",t),console.log("EntityFetcher.udpate entity relations:",a),console.log("EntityFetcher.udpate status code:",c.status),console.log("EntityFetcher.update data:",c.data)),c.data}catch(e){return console.log("EntityFetcher.update (err):",e),null}}async updateMany(e,t=!1){try{const r=`${this.baseUrl}${this.path}/updateMany`,a=await(0,o.default)({method:"put",url:r,data:e});return t&&(console.log("EntityFetcher.updateMany status code:",a.status),console.log("EntityFetcher.updateMany data:",a.data)),a.data}catch(e){return console.log("EntityFetcher.updateMany (err):",e),null}}async delete(e){try{const t=`${this.baseUrl}${this.path}/${e}`;return(await(0,o.default)({method:"delete",url:t})).data}catch(e){return console.log("EntityFetcher.delete (err):",e),null}}async deleteMany(e){try{const t=`${this.baseUrl}${this.path}/deleteMany`;return(await(0,o.default)({method:"delete",url:t,data:e})).data}catch(e){return console.log("EntityFetcher.deleteMany (err):",e.message),null}}}},{axios:"6K9NR"}],"2CbIJ":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FlatTypeFetcher=void 0;var a,o=(a=e("axios"))&&a.__esModule?a:{default:a},s=e("./entityFetcher");class l extends s.EntityFetcher{async getTypes(e){try{const t=`${this.baseUrl}${this.path}/getFlatTypes`,r=await(0,o.default)({method:"get",url:t});return e&&(console.log("url:",t),console.log("date:",r.data)),r.data}catch(e){return console.log("FlatTypeFetcher.getTypes (err):",e),[]}}async getTotalFlats(e,t){try{const r=`${this.baseUrl}${this.path}/getTotalFlats`,a=await(0,o.default)({method:"get",url:r,params:{type:e}});return t&&(console.log("url:",r),console.log("params:",e),console.log("date:",a.data)),a.data}catch(e){return console.log("FlatTypeFetcher.getTotalFlats (err):",e),0}}async getAvailableFlatsCount(e,t,r,a){try{const s=`${this.baseUrl}${this.path}/getAvailableFlatsCount`,l=await(0,o.default)({method:"get",url:s,params:{type:r,for:e,to:t}});return a&&(console.log("url:",s),console.log("date:",l.data)),l.data}catch(e){return console.log("FlatTypeFetcher.getAvailableFlatsCount (err):",e),0}}async reserve(e,t,r,a,s,l){try{const n=`${this.baseUrl}${this.path}/reserve`,c=await(0,o.default)({method:"post",url:n,data:{from:e,to:t,desiredChunks:r,reserverID:a,channel:s}});return l&&(console.log("url:",n),console.log("date:",c.data)),c.data}catch(e){throw console.log("FlatTypeFetcher.reserve (err):",e),new Error(e.message)}}async modify(e,t,r,a,s,l,n){try{const c=`${this.baseUrl}${this.path}/${e}`,u=await(0,o.default)({method:"put",url:c,data:{from:t,to:r,desiredChunks:a,reserverID:s,channel:l}});return n&&(console.log("url:",c),console.log("date:",u.data)),u.data}catch(e){throw console.log("FlatTypeFetcher.modify (err):",e),new Error(e.message)}}async getReservedFlatsFor(e,t,r){try{const a=`${this.baseUrl}${this.path}/getReservedFlatsFor`,s={type:t,for:e},l=await(0,o.default)({method:"get",url:a,params:s});return r&&(console.log("url:",a),console.log("params:",s),console.log("date:",l.data)),l.data}catch(e){throw console.log("FlatTypeFetcher.getReservedFlatsFor (err):",e),new Error(e.message)}}}r.FlatTypeFetcher=l},{axios:"6K9NR","./entityFetcher":"1aKQt"}]},{},[]);